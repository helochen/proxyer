package com.mhxh.proxyer.tcp.game.constants;

import com.mhxh.proxyer.decode.EncryptDictionary;
import io.netty.buffer.ByteBufUtil;

import java.nio.charset.Charset;
import java.util.Map;
import java.util.regex.Pattern;

public class DataSplitConstant {

    public static final Pattern DATA_PATTERN = Pattern.compile("\\{.*?}");

    public static final Pattern MAP_NPC_PATTERN = Pattern.compile("\\{x.*?地图.*?}");

    // 去除领取人
    public static final Pattern MAP_NPC_TARGET_ROLE_PATTERN = Pattern.compile("领取人id=\\{.*?},");


    public static final Pattern TASK_DECOMPOSITION_POSTION = Pattern.compile("(?<=#Y/).*?(?=#W)");

    public static final Pattern TASK_DECOMPOSITION_NAME = Pattern.compile("(?<=#G/).*?(?=#R)");

    public static final Pattern TASK_DECOMPOSITION_X_Y = Pattern.compile("(.*?)");

    // 青龙堂任务
    public static final Pattern TASK_QING_LONG_NEED_ITEM = Pattern.compile("(?<=#Y).*?(?=#W)");

    public static void main(String[] args) {

// "000180cb91da00fc7a632c48612c37652c4b432c655a2c77372c7a552c575a2c655a2c4e5a2c32492c55662c366f2c4c782c4a392c55662c366f2c4c782c4a392c55662c366f2c75662c575a2c70642c46432c78692c4a392c55662c366f2c4c782c4a392c55662c366f2c4c782c4a392c55662c46432c364f2c4b432c575a2c7a632c4e382c7a632c48642c38712c51732c637a2c59482c48612c704b2c575a2c396e2c46432c77372c4d732c48642c796c2c54392c75662c32682c75662c364f2c575a2c32682c4c392c364f2c575a2c77302c376c2c48612c37652c55662c796c2c77372c75662c704b2c59482c54392c4c392c4e5a2c7a632c54392c4c392c73792c";
// "000180cb91da00fc7a632c48612c37652c4b432c655a2c77372c7a552c575a2c655a2c4e5a2c32492c55662c366f2c4c782c4a392c55662c366f2c4c782c4a392c55662c366f2c75662c575a2c70642c46432c78692c4a392c55662c366f2c4c782c4a392c55662c366f2c4c782c4a392c55662c46432c364f2c4b432c575a2c7a632c4e382c7a632c48642c38712c51732c637a2c59482c48612c704b2c575a2c396e2c46432c77372c4d732c48642c796c2c54392c75662c32682c75662c364f2c575a2c32682c4c392c364f2c575a2c77302c376c2c48612c37652c55662c796c2c77372c75662c704b2c59482c54392c4c392c4e5a2c7a632c54392c32682c50702c";

        String x1 = "ba0080cb91da00b656502c2a2d2a5a752c71362c5a752c5a752c71362c79502c56502c5a752c402b4030572c43782c45542c664e2c6e422c78692c41612c68592c6d392c53772c402b4030572c43782c45542c664e2c6e422c78692c41612c68592c6d392c53772c402b4049762c39572c38762c50662c36622c326c2c58432c71362c77642c36622c56502c38762c79502c425a2c2069732c202020202a2d2a56502c77642c425a2c35522c79502c79502c77642c77642c425a2c71362c";
        String y2 = "c30080cb91da00bf56502c2a2d2a5a752c71362c5a752c5a752c71362c79502c56502c5a752c402b4056502c5a752c49762c79502c425a2c77642c35522c38762c57612c71362c402b4056502c5a752c49762c79502c425a2c77642c35522c38762c57612c71362c402b4056502c56502c402b4049762c39572c38762c50662c36622c326c2c58432c71362c77642c36622c56502c38762c79502c425a2c2069732c202020202a2d2a56502c77642c425a2c35522c79502c79502c35522c56502c79502c425a2c";
        String y1 = "9b0080cb91da009756502c2a2d2a5a752c71362c5a752c5a752c71362c79502c56502c5a752c402b4021402324255e262a2829402b4021402324255e262a2829402b4056502c56502c402b4049762c39572c38762c50662c36622c326c2c58432c71362c77642c36622c56502c38762c79502c425a2c2069732c202020202a2d2a56502c77642c425a2c35522c79502c79502c35522c79502c56502c79502c";
        String y4 = "a50080cb91da00a156502c2a2d2a5a752c71362c5a752c5a752c71362c79502c56502c5a752c402b405f2b7b7d5b5d3a223b273c3e2c2e3f402b405f2b7b7d5b5d3a223b273c3e2c2e3f402b4056502c56502c402b4049762c39572c38762c50662c36622c326c2c58432c71362c77642c36622c56502c38762c79502c425a2c2069732c202020202a2d2a56502c77642c425a2c35522c79502c79502c35522c425a2c77642c56502c";
        String y5 = "ae0080cb91da00aa56502c2a2d2a5a752c71362c5a752c5a752c71362c79502c56502c5a752c402b4050662c4e522c634b2c65732c36622c326c2c714c2c402b4050662c4e522c634b2c65732c36622c326c2c714c2c402b4056502c402b4049762c39572c38762c50662c36622c326c2c58432c71362c77642c36622c56502c38762c79502c425a2c2069732c202020202a2d2a56502c77642c425a2c35522c425a2c49762c425a2c49762c71362c71362c";
        String y6 = "ba0080cb91da00b656502c2a2d2a5a752c71362c5a752c5a752c71362c79502c56502c5a752c402b404c712c6a4f2c6d502c61572c4a412c55632c61622c59782c50382c50382c402b40434f2c53392c77752c4d792c76742c48752c44472c402b4056502c56502c402b4049762c39572c38762c50662c36622c326c2c58432c71362c77642c36622c56502c38762c79502c425a2c2069732c202020202a2d2a56502c77642c425a2c35522c425a2c49762c79502c71362c5a752c35522c";


        byte[] bytes = ByteBufUtil.decodeHexDump(y2);
        String result = new String(bytes);
        System.out.println(result);


        byte[] bytes1 = ByteBufUtil.decodeHexDump(x1);
        String result1 = new String(bytes1);
        System.out.println(result1);

        byte[] bytes2 = ByteBufUtil.decodeHexDump(y1);
        String result2 = new String(bytes2);
        System.out.println(result2);


        byte[] bytes3 = ByteBufUtil.decodeHexDump(y4);
        String result3 = new String(bytes3);
        System.out.println(result3);


        byte[] bytes4 = ByteBufUtil.decodeHexDump(y5);
        String result4 = new String(bytes4);
        System.out.println(result4);


        String[] tmp = new String[]{
                "7e0080cb91da007a49762c77642c57612c57612c2a2d2a6d502c6d392c2050382c6d392c77752c4c712c50382c20664e2c45542c6e422c3d7b7d20664e2c45542c6e422c41612c664e2c48752c20664e2c45542c6e422c2045542c48752c6d502c2a2d2a56502c77642c425a2c35522c425a2c49762c425a2c79502c5a752c79502c"
                ,"9e0080cb91da009a56502c71362c71362c56502c2a2d2a6d502c6d392c2050382c6d392c77752c4c712c50382c20664e2c45542c6e422c3d7b5b2278692c225d3d38762c49762c2c5b2253392c225d3d56502c5a752c57612c7d20664e2c45542c6e422c41612c664e2c48752c20664e2c45542c6e422c2045542c48752c6d502c2a2d2a56502c77642c425a2c35522c425a2c49762c425a2c425a2c79502c79502c"
                ,"a70080cb91da00a356502c71362c71362c5a752c2a2d2a6d502c6d392c2050382c6d392c77752c4c712c50382c20664e2c45542c6e422c3d7b5b2278692c225d3d56502c77642c77642c79502c2c5b2253392c225d3d5a752c425a2c425a2c5a752c7d20664e2c45542c6e422c41612c664e2c48752c20664e2c45542c6e422c2045542c48752c6d502c2a2d2a56502c77642c425a2c35522c425a2c49762c425a2c425a2c77642c79502c"
                ,"840080cb91da008056502c49762c2a2d2a6d502c6d392c2050382c6d392c77752c4c712c50382c20664e2c45542c6e422c3d7b5b22d0f2c1d0225d3d56502c7d20664e2c45542c6e422c41612c664e2c48752c20664e2c45542c6e422c2045542c48752c6d502c2a2d2a56502c77642c425a2c35522c425a2c49762c425a2c77642c5a752c425a2c"
                ,"780080cb91da007456502c77642c2a2d2a6d502c6d392c2050382c6d392c77752c4c712c50382c20664e2c45542c6e422c3d7b7d20664e2c45542c6e422c41612c664e2c48752c20664e2c45542c6e422c2045542c48752c6d502c2a2d2a56502c77642c425a2c35522c425a2c49762c425a2c35522c5a752c77642c"
                ,"8a0080cb91da008649762c35522c71362c77642c2a2d2a6d502c6d392c2050382c6d392c77752c4c712c50382c20664e2c45542c6e422c3d7b5b22d0f2c1d0225d3d425a2c7d20664e2c45542c6e422c41612c664e2c48752c20664e2c45542c6e422c2045542c48752c6d502c2a2d2a56502c77642c425a2c35522c425a2c49762c35522c77642c71362c35522c"
                ,"7e0080cb91da007a49762c77642c57612c57612c2a2d2a6d502c6d392c2050382c6d392c77752c4c712c50382c20664e2c45542c6e422c3d7b7d20664e2c45542c6e422c41612c664e2c48752c20664e2c45542c6e422c2045542c48752c6d502c2a2d2a56502c77642c425a2c35522c425a2c49762c35522c77642c71362c35522c"
                ,"0b0180cb91da010756502c425a2c71362c56502c2a2d2a6d502c6d392c2050382c6d392c77752c4c712c50382c20664e2c45542c6e422c3d7b5b22b5d8cdbc225d3d56502c71362c35522c71362c2c5b22b1e0bac5225d3d56502c71362c71362c35522c2c5b22b1eacab6225d3d225f56502c71362c57612c5f56502c77642c425a2c35522c425a2c49762c425a2c79502c71362c71362c5f77642c57612c38762c5f425a2c5a752c35522c49762c222c5b22d0f2c1d0225d3d56502c71362c71362c35522c7d20664e2c45542c6e422c41612c664e2c48752c20664e2c45542c6e422c2045542c48752c6d502c2a2d2a56502c77642c425a2c35522c425a2c49762c38762c79502c56502c71362c"
                ,"780080cb91da007456502c5a752c2a2d2a6d502c6d392c2050382c6d392c77752c4c712c50382c20664e2c45542c6e422c3d7b7d20664e2c45542c6e422c41612c664e2c48752c20664e2c45542c6e422c2045542c48752c6d502c2a2d2a56502c77642c425a2c35522c425a2c79502c77642c77642c5a752c79502c"
        };

        EncryptDictionary encryptDictionary = new EncryptDictionary();

        Map<String, String> decodeMap = encryptDictionary.encodeMap;

        for (String t : tmp) {
            for (String key : decodeMap.keySet()) {
                t = t.replaceAll(key, decodeMap.get(key));
            }
            System.out.println("===================================");
            byte[] bytes6= ByteBufUtil.decodeHexDump(t);
            String result6 = new String(bytes6 , Charset.forName("GBK"));
            System.out.println(result6);

        }




    }
}
